


<div class="container text-center mt-5 py-5">
  <div class="card" style="width: 70%;margin: auto;">
    <img src="{{thumbnail or 'https://www.fing.edu.uy/inco/grupos/gsi/img/placeholder.png'}}" class="card-img-top" alt="Chicago Skyscrapers"/>
    <div class="card-body">
      <h2 class="card-title">{{title}}</h2>
    </div>
    <div class="formats">
      {% set count = namespace(value=0) %}
      {% for format in formats %}
     
      {% if format.extension == "mp4" %}
      <a href="{{format.url}}"  id="choix{{count.value}}" download>
      <div class="format ">
          <button class="download-format-button  "  onclick="downloeadvideo()" id="choix{{count.value}}" style="background-color: var(--color4);">
            <div class="inbutton">
              <div class="inb2">{{format.format_note}}</div>
              <div class="inb2">{{format.extension}}</div>
            </div>
            <script>
              var QQQ{{count.value}} =  document.getElementById("choix{{count.value}}").href
              function adddiv{{count.value}}(){
               

               var newIfram = document.createElement("iframe")
               var onediv = document.createElement("div")
               var towdiv = document.createElement("div")
               var thrediv = document.createElement("div")
               var newbutton = document.createElement("button")
               var textbutton = document.createTextNode("تحميل")

               thrediv.className = ("dow-vi")
               towdiv.className = ("towdiv")
               onediv.className = ("onediv")
               newbutton.className = ("b-iframe")
               
               

               newIfram.setAttribute("src" , QQQ{{count.value}})
               newIfram.setAttribute("id" , "my-iframe")
               newbutton.setAttribute("onclick" , "downloeadvideo()")
               


               onediv.appendChild(newIfram)
               newbutton.appendChild(textbutton)
               onediv.appendChild(newbutton)
               towdiv.appendChild(onediv)
               thrediv.appendChild(towdiv)
               
               


                 document.body.appendChild(thrediv) }
                 function downloeadvideo( QQQ{{count.value}}){
                   
                   
                  
                   
                   var link = QQQ{{count.value}};
                   var newVideo = document.createElement("video");
                   newVideo.setAttribute("src", link);
                   newVideo.setAttribute("type", "video/mp4");
                   newVideo.setAttribute("controls", "");


                   var downloadLink = document.createElement("a");
                   downloadLink.setAttribute("href", link);
                   downloadLink.setAttribute("download", "video.mp4");
                   downloadLink.innerText = "Download Video";

                   document.body.appendChild(newVideo);
                   document.body.appendChild(downloadLink);
                 }

                 

             
           </script>
      
            <div class="inbutton">
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-play-btn-fill" viewBox="0 0 16 16">
                <path d="M0 12V4a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2zm6.79-6.907A.5.5 0 0 0 6 5.5v5a.5.5 0 0 0 .79.407l3.5-2.5a.5.5 0 0 0 0-.814l-3.5-2.5z"/>
              </svg>
              {% if (format.format_id|int) >= (100|int) %}
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-bell-slash-fill" viewBox="0 0 16 16">
                <path d="M5.164 14H15c-1.5-1-2-5.902-2-7 0-.264-.02-.523-.06-.776L5.164 14zm6.288-10.617A4.988 4.988 0 0 0 8.995 2.1a1 1 0 1 0-1.99 0A5.002 5.002 0 0 0 3 7c0 .898-.335 4.342-1.278 6.113l9.73-9.73zM10 15a2 2 0 1 1-4 0h4zm-9.375.625a.53.53 0 0 0 .75.75l14.75-14.75a.53.53 0 0 0-.75-.75L.625 15.625z"/>
              </svg>
              {% endif %}
            </div>
          </button>
        
      </div>
    </a>
      {% endif %}

      
      {% if format.extension == "m4a" %}
      
      <div class="format ">
        

          <button class="download-format-button "  onclick="adddiv{{count.value}}()" id="choix{{count.value}}" style="background-color: var(--color6);">
            
            <div class="inbutton">
              <div class="inb2">{{format.format_note}} </div>
              <div class="inb2">{{format.extension}}</div>
            </div>
            
      
            <div class="inbutton">
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-file-earmark-music" viewBox="0 0 16 16">
                <path d="M11 6.64a1 1 0 0 0-1.243-.97l-1 .25A1 1 0 0 0 8 6.89v4.306A2.572 2.572 0 0 0 7 11c-.5 0-.974.134-1.338.377-.36.24-.662.628-.662 1.123s.301.883.662 1.123c.364.243.839.377 1.338.377.5 0 .974-.134 1.338-.377.36-.24.662-.628.662-1.123V8.89l2-.5V6.64z"/>
                <path d="M14 14V4.5L9.5 0H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2zM9.5 3A1.5 1.5 0 0 0 11 4.5h2V14a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h5.5v2z"/>
              </svg>
              
            </div>
          </button> 
        
      </div>
      {% endif %}

      {% if format.extension == "webm" %}
      <a href="{{format.url}}"  id="choix{{count.value}}"></a>
      <div class="format ">
        
          <button class="download-format-button " id="choix{{count.value}}" onclick="adddiv{{count.value}}()" style="background-color: var(--color3);">
            <div class="inbutton">
              <div class="inb2">{{format.format_note}}</div>
              <div class="inb2">{{format.extension}}</div>
            </div>

            <script>
               var QQQ{{count.value}} =  document.getElementById("choix{{count.value}}").href
               function adddiv{{count.value}}(){
                

                var newIfram = document.createElement("iframe")
                var onediv = document.createElement("div")
                var towdiv = document.createElement("div")
                var thrediv = document.createElement("div")
                var newbutton = document.createElement("button")
                var textbutton = document.createTextNode("تحميل")

                thrediv.className = ("dow-vi")
                towdiv.className = ("towdiv")
                onediv.className = ("onediv")
                newbutton.className = ("b-iframe")
                
                

                newIfram.setAttribute("src" , QQQ{{count.value}})
                newIfram.setAttribute("id" , "my-iframe")
                newbutton.setAttribute("onclick" , "downloeadvideo()")
                


                onediv.appendChild(newIfram)
                newbutton.appendChild(textbutton)
                onediv.appendChild(newbutton)
                towdiv.appendChild(onediv)
                thrediv.appendChild(towdiv)
                
                


                  document.body.appendChild(thrediv) }
                  
                    function downloeadvideo( QQQ{{count.value}}){
                   
                   
                  
                   
                   var link = QQQ{{count.value}};
                   var newVideo = document.createElement("video");
                   newVideo.setAttribute("src", link);
                   newVideo.setAttribute("type", "video/mp4");
                   newVideo.setAttribute("controls", "");


                   var downloadLink = document.createElement("a");
                   downloadLink.setAttribute("href", link);
                   downloadLink.setAttribute("download", "video.mp4");
                   downloadLink.innerText = "Download Video";

                   document.body.appendChild(newVideo);
                   document.body.appendChild(downloadLink);
                    }
                  

              
            </script>
      
            
            <div class="inbutton">
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-browser-chrome" viewBox="0 0 16 16">
                <path fill-rule="evenodd" d="M16 8a8.001 8.001 0 0 1-7.022 7.94l1.902-7.098a2.995 2.995 0 0 0 .05-1.492A2.977 2.977 0 0 0 10.237 6h5.511A8 8 0 0 1 16 8ZM0 8a8 8 0 0 0 7.927 8l1.426-5.321a2.978 2.978 0 0 1-.723.255 2.979 2.979 0 0 1-1.743-.147 2.986 2.986 0 0 1-1.043-.7L.633 4.876A7.975 7.975 0 0 0 0 8Zm5.004-.167L1.108 3.936A8.003 8.003 0 0 1 15.418 5H8.066a2.979 2.979 0 0 0-1.252.243 2.987 2.987 0 0 0-1.81 2.59ZM8 10a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z"/>
              </svg>
              {% if (format.format_id|int) >= (100|int) %}
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-bell-slash-fill" viewBox="0 0 16 16">
                <path d="M5.164 14H15c-1.5-1-2-5.902-2-7 0-.264-.02-.523-.06-.776L5.164 14zm6.288-10.617A4.988 4.988 0 0 0 8.995 2.1a1 1 0 1 0-1.99 0A5.002 5.002 0 0 0 3 7c0 .898-.335 4.342-1.278 6.113l9.73-9.73zM10 15a2 2 0 1 1-4 0h4zm-9.375.625a.53.53 0 0 0 .75.75l14.75-14.75a.53.53 0 0 0-.75-.75L.625 15.625z"/>
              </svg>
              {% endif %}
            </div>
          </button>
        </a>
      </div>
      
      {% endif %}

      {% set count.value = count.value + 1 %}
      
      {% endfor %}
      
    </div>
  </div>
</div>





